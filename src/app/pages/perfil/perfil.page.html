<ion-content style="--background: #ffffff; --padding-bottom: 80px;">
  
  <div class="perfil-container">
    
    <!-- HEADER -->
    <div class="top-nav">
      <div class="back-btn" routerLink="/home">
        <ion-icon name="arrow-back"></ion-icon>
      </div>
      <h3>Meu Perfil</h3>
      
      <!-- BOTÃO SAIR -->
      <div class="logout-btn" (click)="logout()" style="color: #ff4d4d; font-size: 24px; cursor: pointer;">
        <ion-icon name="log-out-outline"></ion-icon>
      </div>
    </div>

    <!-- AVATAR -->
    <div class="avatar-area" (click)="triggerUpload()">
      <div class="image-wrapper">
        <img [src]="fotoPreview || 'assets/icon/favicon.png'" />
      </div>
      <div class="edit-badge">
        <ion-icon name="camera"></ion-icon>
      </div>
    </div>
    
    <!-- Input escondido para o upload funcionar no PC e Mobile -->
    <input type="file" #fileInput (change)="onFileSelected($event)" style="display: none;" accept="image/*">

    <div class="user-info">
      <h2>{{ userData.nome }}</h2>
      <p>{{ userData.email }}</p>
    </div>

    <div class="form-section">
      <div class="input-group">
        <label>Bio / Objetivos</label>
        <textarea [(ngModel)]="novaBio" placeholder="Escreva aqui seus objetivos..."></textarea>
      </div>

      <button class="save-btn" (click)="salvarPerfil()">
        SALVAR ALTERAÇÕES
      </button>
    </div>

  </div>
</ion-content>

<!-- MENU INFERIOR FIXO COM 4 ÍCONES -->
<div class="bottom-tab-bar">
  <!-- 1. Home -->
  <div class="tab-item" routerLink="/home">
    <div class="icon-box">
      <ion-icon name="grid"></ion-icon>
    </div>
    <span>Home</span>
  </div>

  <!-- 2. Evolução -->
  <div class="tab-item" routerLink="/evolucao">
    <div class="icon-box">
      <ion-icon name="stats-chart"></ion-icon>
    </div>
    <span>Evolução</span>
  </div>

  <!-- 3. Dieta -->
  <div class="tab-item" routerLink="/dieta">
    <div class="icon-box">
      <ion-icon name="nutrition"></ion-icon>
    </div>
    <span>Dieta</span>
  </div>

  <!-- 4. Perfil (ATIVO) -->
  <div class="tab-item active">
    <div class="icon-box">
      <ion-icon name="person"></ion-icon>
    </div>
    <span>Perfil</span>
  </div>
</div>